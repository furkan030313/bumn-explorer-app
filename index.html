<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eksplorator Struktur Holding BUMN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        html, body { height: 100%; font-family: 'Inter', sans-serif;}
        body { background: linear-gradient(135deg,#dbeafe 0%, #f0fdfa 100%)!important;}
        .chart-container { position: relative; width: 100%; max-width: 800px; margin: auto; height: 350px; max-height: 400px; }
        .subsidiary-list { display: none; }
        .rotate-180 { transform: rotate(180deg);}
        .sidebar-gradient { background: linear-gradient(160deg,#1e3a8a 75%,#60a5fa 100%);}
        .sidebar-item-active { background: #2563eb; color: #fff !important; font-weight: 700; box-shadow: 0 6px 16px -8px #3b82f6; }
        .card-glass { background:rgba(255,255,255,0.7); backdrop-filter: blur(8px);}
        .homebtn { transition: .15s;}
        .homebtn:hover { background: #dbeafe; color: #1d4ed8;}
        .group-item-enter { animation: fadeIn 0.5s cubic-bezier(.32,2,.55,.27) forwards; opacity:0; transform:translateY(12px);}
        @keyframes fadeIn { from{opacity:0;transform:translateY(12px);} to{opacity:1;transform:translateY(0);} }
        /* Custom scrollbar */
        ::-webkit-scrollbar { width:8px;}
        ::-webkit-scrollbar-thumb { background:#dbeafe; border-radius:16px;}
        ::-webkit-scrollbar-thumb:hover { background:#60a5fa;}
        ::selection { background: #bfdbfe; color: #1e293b;}
    </style>
</head>
<body class="text-slate-800">

<div class="flex flex-col md:flex-row min-h-screen">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar-gradient w-full md:w-72 md:fixed md:h-full flex-shrink-0 shadow-2xl z-20 flex flex-col justify-between">
        <div>
            <div class="flex items-center gap-3 mb-8 p-6 pt-7">
                <div class="bg-white/20 p-3 rounded-xl shadow-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>
                </div>
                <h1 class="text-2xl font-extrabold text-white tracking-wide">Holding BUMN</h1>
            </div>
            <nav id="cluster-nav" class="mb-8 px-4">
                <h2 class="text-sm font-bold text-blue-100 uppercase tracking-widest mb-4">Klaster Usaha</h2>
                <ul class="space-y-1"></ul>
            </nav>
        </div>
        <footer class="p-4 pb-6 text-xs text-blue-100 text-center opacity-80 select-none">
            Â© 2025 Eksplorator BUMN.<br>fmbojo@gmail.com
        </footer>
    </aside>

    <!-- Main content -->
    <main class="flex-1 md:ml-72 p-4 sm:p-10 transition-all duration-300 min-h-screen flex items-center justify-center" style="background: none;">
        <div id="main-content" class="w-full"></div>
    </main>
</div>

<script>
// --------- Data bumnData: sama dengan versi sebelumnya, lengkap 11 klaster ---------
const bumnData = { "clusters": [
    // 1. Energi, Minyak dan Gas
    {
        "name": "Energi, Minyak dan Gas",
        "holdings": [
            {
                "name": "PT Pertamina (Persero)",
                "subsidiaries": [
                    { "name": "PT Nusantara Regas" },
                    { "name": "PPT Energy Trading Co Ltd" },
                    { "name": "PT Pertamina Training & Consulting" },
                    { "name": "PT Pertamina Hulu Energi (PHE)", "sub_subsidiaries": ["PT Elnusa Tbk", "PT Pertamina Drilling Services Indonesia (PDSI)", "PT Badak NGL", "65 anak perusahaan lainnya"] },
                    { "name": "PT Pelita Air Service" },
                    { "name": "PT Pertamina Pedeve Indonesia" },
                    { "name": "PT Pertamina Bina Medika" },
                    { "name": "PT Kilang Pertamina Internasional", "sub_subsidiaries": ["Pertamina Rosneft Pengolahan & Petrokimia"] },
                    { "name": "PT Tuban Petrochemical Industries" },
                    { "name": "PT Pertamina International Shipping" },
                    { "name": "PT Asuransi Tugu Pratama Indonesia Tbk" },
                    { "name": "PT Pertamina Power Indonesia", "sub_subsidiaries": [
                        "PT Industri Baterai Indonesia",
                        { "name": "PT Pertamina Geothermal Energy (PGE)", "sub_subsidiaries": ["PT Geothermal Energi Seulawah", "PT Pertamina Geothermal Energy Kotamobagu"] }
                    ] },
                    { "name": "PT Pertamina Patra Niaga", "sub_subsidiaries": [
                        "Pertamina Retail",
                        "Pertamina International M&D",
                        "Pertamina Petrochemical Trading",
                        "Patra SK",
                        { "name": "PT Pertamina Lubricants", "sub_subsidiaries": ["Anak perusahaan di Thailand", "PT Katalis Sinergi Indonesia (patungan)"] },
                        "Pertamina Patra Logistik",
                        "Pertamina Maintenance & Construction",
                        "Pertamina International Timor"
                    ] },
                    { "name": "PT Patra Jasa" },
                    { "name": "PT Perusahaan Gas Negara Tbk (PGN)", "sub_subsidiaries": [
                        "Gagas Energi", "PGAS Solution", "PGAS Telekomunikasi Nusantara", "Nusantara Regas", "Transportasi Gas Negara"
                    ] }
                ]
            },
            {
                "name": "PT Perusahaan Listrik Negara (Persero) (PLN)",
                "subsidiaries": [
                    { "name": "PT Prima Layanan Nasional Enjiniring (PLN Enjiniring)" },
                    { "name": "PT PLN Indonesia Power" },
                    { "name": "PT PLN Nusantara Power", "sub_subsidiaries": [{ "name": "PT PLN Nusantara Power Construction (PLN NPC)", "sub_subsidiaries": ["PT Prima Power Nusantara"] }] },
                    { "name": "PT PLN Batam" },
                    { "name": "PT PLN Tarakan" },
                    { "name": "PT PLN Energi Primer Indonesia" },
                    { "name": "PT Haleyora Power", "sub_subsidiaries": ["PT Haleyora Powerindo (HPI)"] },
                    { "name": "Majapahit Holding BV" },
                    { "name": "PT Mandau Cipta Tenaga Nusantara" },
                    { "name": "PT PLN ICON Plus" },
                    { "name": "PT Pelayaran Bahtera Adhiguna" },
                    { "name": "PT PLN Batu Bara" },
                    { "name": "PT Pengembangan Listrik Nasional Geothermal" }
                ]
            }
        ]
    },
    // 2. Kesehatan
    {
        "name": "Kesehatan",
        "holdings": [
            {
                "name": "PT Bio Farma (Persero)",
                "subsidiaries": [
                    { "name": "PT Kimia Farma Tbk", "sub_subsidiaries": [
                        "Kimia Farma Apotek", "Phapros", "Sinkona Indonesia Lestari",
                        "Kimia Farma Trading & Distribution", "Kimia Farma Sungwun Pharmacopia", "Kimia Farma Dawaa Co., Ltd."
                    ] },
                    { "name": "Indofarma" },
                    { "name": "INUKI" }
                ]
            }
        ]
    },
    // 3. Manufaktur
    {
        "name": "Manufaktur",
        "holdings": [
            { "name": "PT Biro Klasifikasi Indonesia (Persero) (ID Survey)", "subsidiaries": [{ "name": "PT Sucofindo" }] },
            {
                "name": "PT Len Industri (Persero) (DEFEND ID)",
                "subsidiaries": [
                    { "name": "PT PAL Indonesia" },
                    { "name": "PT Surya Energi Indotama" },
                    { "name": "PT Eltran Indonesia" },
                    { "name": "PT Dahana" },
                    { "name": "PT Dirgantara Indonesia", "sub_subsidiaries": [
                        "IPTN North America, Inc.",
                        "PT General Electric Nusantara Turbine Services (GENTS)",
                        "PT General Electric Technology Indonesia (GETI)",
                        "PT Nusantara Turbin dan Propulsi"
                    ] }
                ]
            },
            {
                "name": "PT Krakatau Steel (Persero) Tbk",
                "subsidiaries": [
                    { "name": "PT Meratus Jaya Iron Steel" },
                    { "name": "PT Krakatau Engineering" },
                    { "name": "PT Krakatau Baja Konstruksi" },
                    { "name": "PT Krakatau Sarana Infrastruktur" }
                ]
            },
            {
                "name": "PT Mineral Industri Indonesia (Persero) (MIND ID)",
                "subsidiaries": [
                    { "name": "PT Indonesia Asahan Aluminium (Inalum)", "sub_subsidiaries": [
                        "PT Indonesia Aluminium Alloy",
                        "PT Borneo Alumina Indonesia",
                        "PT Industri Baterai Indonesia",
                        "PT Sarana Multi Logam Indonesia (SMLI)"
                    ] },
                    { "name": "MIND ID Trading Pte Ltd" },
                    { "name": "PT TIMAH Tbk", "sub_subsidiaries": [
                        "Perbengkelan & galangan kapal", "Jasa rekayasa teknik", "Penambangan timah", "Konsultasi & penelitian", "Penambangan non-timah"
                    ] },
                    { "name": "PT Bukit Asam Tbk (PTBA)", "sub_subsidiaries": [
                        "PT Batubara Bukit Kendi", "PT Bukit Asam Banko", "PT Bukit Asam Metana Enim",
                        "PT Bukit Asam Metana Ombilin", "PT Bukit Asam Prima", "PT Bukit Energi Investama",
                        "PT Bukit Multi Investama", "PT Internasional Prima Coal"
                    ] },
                    { "name": "PT Aneka Tambang Tbk (ANTM)", "sub_subsidiaries": [
                        "PT Indonesia Chemical Alumina", "PT Cibaliung Sumberdaya", "PT Mega Citra Utama",
                        "PT Antam Resourcindo", "Asia Pacific Nickel", "PT Jatim Arindo Persada"
                    ] },
                    { "name": "PT Freeport Indonesia" }
                ]
            }
        ]
    },
    // 4. Pangan dan Pupuk
    {
        "name": "Pangan dan Pupuk",
        "holdings": [
            {
                "name": "PT Pupuk Indonesia (Persero)",
                "subsidiaries": [
                    { "name": "PT Pupuk Sriwidjaja Palembang" },
                    { "name": "PT Pupuk Kalimantan Timur", "sub_subsidiaries": ["PT Kaltim Industrial Estate (KIE)", "PT Kaltim Pasifik Amoniak (KPA)", "Kalianusa (patungan)"] },
                    { "name": "PT Petrokimia Gresik", "sub_subsidiaries": ["PT Petrokimia Kayaku", "PT Petrosida Gresik", "PT Petro Jordan Abadi (50%)"] },
                    { "name": "PT Rekayasa Industri" },
                    { "name": "PT Pupuk Indonesia Niaga", "sub_subsidiaries": ["PT Sigma Utama"] },
                    { "name": "PT Pupuk Iskandar Muda" },
                    { "name": "PT Pupuk Kujang Cikampek" }
                ]
            },
            { "name": "Perum BULOG", "subsidiaries": [{ "name": "PT Mitra Bumdes Nusantara", "sub_subsidiaries": ["PT Jasa Prima Logistik BULOG (PT JPLB)", "PT Gendis Multi Manis"] }] },
            {
                "name": "PT Rajawali Nusantara Indonesia (Persero) (ID Food)",
                "subsidiaries": [
                    { "name": "PT Mitra Kerinci" },
                    { "name": "PT GIEB Indonesia" },
                    { "name": "PT Perkebunan Mitra Ogan" },
                    { "name": "PT PG Candi Baru" },
                    { "name": "PT Laras Astra Kartika" },
                    { "name": "PT Berdikari" },
                    { "name": "PT Garam" }
                ]
            }
        ]
    },
    // 5. Perkebunan dan Kehutanan
    {
        "name": "Perkebunan dan Kehutanan",
        "holdings": [
            {
                "name": "PT Perkebunan Nusantara III (Persero)",
                "subsidiaries": [
                    {"name": "PTPN I, II, IV-XIV (13 PTPN)"},
                    { "name": "PT Kawasan Industri Nusantara" },
                    { "name": "PT Riset Perkebunan Nusantara" },
                    { "name": "PT Sri Pamela Medika Nusantara" },
                    { "name": "PT Industri Nabati Lestari" },
                    { "name": "PT LPP Agro Nusantara" },
                    { "name": "PT Sinergi Gula Nusantara", "sub_subsidiaries": ["Mengelola 36 pabrik gula"] },
                    { "name": "PT Japan Indonesia China Wood" },
                    { "name": "PT Kharisma Pemasaran Bersama Nusantara" },
                    { "name": "PT Industri Karet Nusantara" },
                    { "name": "PT ESW Nusa Tiga" },
                    { "name": "PT Bio Industri Nusantara (BIONUSA)" },
                    { "name": "PT Sarana Agro Nusatara (SAN)" }
                ]
            },
            {
                "name": "Perum Perhutani",
                "subsidiaries": [
                    { "name": "PT Inhutani I, II, III, IV, V" },
                    { "name": "PT BUMN Hijau Lestari I" },
                    { "name": "PT Palawi Risorsis" }
                ]
            }
        ]
    },
    // 6. Jasa Asuransi dan Dana Pensiun
    {
        "name": "Jasa Asuransi dan Dana Pensiun",
        "holdings": [
            {
                "name": "PT Bahana Pembinaan Usaha Indonesia (Persero) (IFG)",
                "subsidiaries": [
                    { "name": "PT Asuransi Kredit Indonesia (Askrindo)" },
                    { "name": "PT Asuransi Kerugian Jasa Raharja", "sub_subsidiaries": ["PT Jasaraharja Putera (JRP INSURANCE)"] },
                    { "name": "PT Asuransi Jasa Indonesia (Jasindo)" },
                    { "name": "PT Jaminan Kredit Indonesia (Jamkrindo)" },
                    { "name": "PT Grahaniaga Tatautama", "sub_subsidiaries": ["PT Griyacanggu Tatautama (Hotel/Condotel Bali)", "PT Nusa Sarana Pradipta (Financial Club Jakarta)"] },
                    { "name": "PT Asuransi Jiwa IFG (IFG Life)" },
                    { "name": "PT Bahana Sekuritas" },
                    { "name": "PT Bahana TCW Investment Management" },
                    { "name": "PT Bahana Artha Ventura" },
                    { "name": "PT Bahana Kapital Investa" }
                ]
            },
            { "name": "PT Reasuransi Indonesia Utama (Persero)", "subsidiaries": [{ "name": "PT Asuransi ASEI Indonesia" }] }
        ]
    },
    // 7. Jasa Infrastruktur
    {
        "name": "Jasa Infrastruktur",
        "holdings": [
            {
                "name": "PT Semen Indonesia (Persero) Tbk (SIG)",
                "subsidiaries": [
                    { "name": "PT Semen Padang" }, { "name": "PT Semen Tonasa" }, { "name": "Thang Long Cement JSC (TLCC)" },
                    { "name": "PT Semen Indonesia Industri Bangunan" }, { "name": "PT Semen Indonesia Aceh" },
                    { "name": "PT Semen Indonesia Logistik" }, { "name": "PT Sinergi Informatika Semen Indonesia" },
                    { "name": "PT Semen Indonesia International" }, { "name": "PT Industri Kemasan Semen Gresik" },
                    { "name": "PT Kawasan Industri Gresik" }, { "name": "PT Semen Gresik and subsidiary" },
                    { "name": "PT Semen Indonesia Beton and subsidiary" }, { "name": "PT Semen Kupang Indonesia" },
                    { "name": "PT Sinergi Mitra Investama" }, { "name": "PT United Tractors Semen Gresik" },
                    { "name": "PT Semen Baturaja (Persero) Tbk" }, { "name": "PT Solusi Bangun Indonesia Tbk" }
                ]
            },
            {
                "name": "PT Jasa Marga (Persero) Tbk",
                "subsidiaries": [
                    { "name": "PT Jasamarga Manado Bitung" }, { "name": "PT Marga Trans Nusantara" },
                    { "name": "PT Jalantol Lingkarluar Jakarta" }, { "name": "PT Marga Sarana Jabar" },
                    { "name": "PT Marga Lingkar Jakarta" }, { "name": "PT Jasamarga Related Business" },
                    { "name": "PT Cinere Serpong Jaya" }, { "name": "PT Jasamarga Balikpapan Samarinda" },
                    { "name": "PT Jasamarga Transjawa Tol" }, { "name": "PT Jasamarga Japek Selatan" },
                    { "name": "PT Jasamarga Probolinggo Banyuwangi" }, { "name": "PT Jasamarga Gedebage Cilacap" },
                    { "name": "PT Jasamarga Jogja Bawen" }, { "name": "PT Jasamarga Gempol Pasuruan" },
                    { "name": "PT Jasamarga Kualanamu Tol" }, { "name": "PT Jasamarga Bali Tol" },
                    { "name": "PT Jasamarga Tollroad Maintenance" }, { "name": "PT Jasamarga Tollroad Operator" }
                ]
            },
            {
                "name": "PT Wijaya Karya (Persero) Tbk (Wika)",
                "subsidiaries": [
                    { "name": "PT WIKA Tirta Jaya Jatiluhur" },
                    { "name": "PT Wijaya Karya Beton", "sub_subsidiaries": ["PT Wijaya Karya Komponen Beton", "PT Wijaya Karya Krakatau Beton", "PT Citra Lautan Teduh", "PT Wijaya Karya Pracetak Gedung"] },
                    { "name": "PT Wijaya Karya Realty" }
                ]
            },
            {
                "name": "PT Pembangunan Perumahan (Persero) Tbk (PP)",
                "subsidiaries": [
                    { "name": "PT PP Properti Tbk" }, { "name": "PT PP Urban" }, { "name": "PT PP Energi" },
                    { "name": "PT Sinergi Colomadu" }, { "name": "PT Centurion Perkasa Iman" },
                    { "name": "PT PP Infrastruktur" }, { "name": "PT PP Presisi Tbk", "sub_subsidiaries": ["PT Lancarjaya Mandiri Abadi"] }
                ]
            },
            {
                "name": "PT Waskita Karya (Persero) Tbk (Waskita)",
                "subsidiaries": [
                    { "name": "PT Waskita Toll Road" }, { "name": "PT Waskita Beton Precast Tbk" },
                    { "name": "PT Waskita Karya Realty" }, { "name": "PT Waskita Karya Infrastruktur" }
                ]
            },
            {
                "name": "PT Adhi Karya (Persero) Tbk",
                "subsidiaries": [
                    { "name": "PT Dumai Tirta Persada" }, { "name": "PT Adhi Commuter Properti (ACP)" },
                    { "name": "PT Adhi Persada Beton (APB)" }, { "name": "PT Adhi Persada Gedung (APG)" },
                    { "name": "PT Adhi Persada Properti (APP)" }, { "name": "PT Adhi Jalintim Riau" },
                    { "name": "PT Jalintim Adhi Abipraya" }
                ]
            },
            {
                "name": "PT Hutama Karya (Persero)",
                "subsidiaries": [
                    { "name": "PT HaKaAston" }, { "name": "PT HK Realtindo" },
                    { "name": "EPC Energy Singapore Pte. Ltd" },
                    { "name": "PT HK Infrastruktur (HKI)", "sub_subsidiaries": ["PT Petronesia Benimel", "PT Bhirawa Steel", "PT Semen Indogreen Sentosa", "PT Hutama Mambelim Trans Papua", "PT Hutama Panorama Sitinjau Lauik"] },
                    { "name": "PT Hutama Marga Waskita" }
                ]
            },
            { "name": "PT Brantas Abipraya (Persero)", "subsidiaries": [{ "name": "PT Brantas Energi" }] },
            { "name": "Perum Perumnas", "subsidiaries": [{ "name": "PT Propernas Nusa Dua" }, { "name": "PT Propernas Griya Utama" }] }
        ]
    },
    // 8. Jasa Keuangan
    {
        "name": "Jasa Keuangan",
        "holdings": [
            {
                "name": "PT Bank Rakyat Indonesia (Persero) Tbk (BRI)",
                "subsidiaries": [
                    { "name": "PT Permodalan Nasional Madani (PNM)", "sub_subsidiaries": ["PT Mitra Utama Madani (MUM)"] },
                    { "name": "PT BRI Agroniaga Tbk" }, { "name": "BRI Remittance Co. Ltd." },
                    { "name": "PT Asuransi BRI Life" }, { "name": "PT BRI Multifinance Indonesia" },
                    { "name": "PT BRI Ventura Investama" }, { "name": "PT BRI Asuransi Indonesia" },
                    { "name": "PT Bank Raya Indonesia Tbk" }, { "name": "PT Pegadaian", "sub_subsidiaries": ["PT POJ", "PT PIJ"] },
                    { "name": "BRI Danareksa Sekuritas" }, { "name": "Danareksa Investment Management" }
                ]
            },
            {
                "name": "PT Bank Negara Indonesia (Persero) Tbk (BNI)",
                "subsidiaries": [
                    { "name": "PT BNI Sekuritas", "sub_subsidiaries": ["BNI Securities Pte. Ltd."] },
                    { "name": "PT BNI Life Insurance" }, { "name": "PT BNI Multifinance" },
                    { "name": "BNI Remittance Ltd." }, { "name": "PT BANK HIBANK INDONESIA" },
                    { "name": "PT BNI Modal Ventura" }
                ]
            },
            {
                "name": "PT Bank Mandiri (Persero) Tbk",
                "subsidiaries": [
                    { "name": "PT Mandiri Utama Finance" },
                    { "name": "PT Mandiri Capital Indonesia" },
                    { "name": "PT Bank Syariah Indonesia Tbk (BSI)" }
                ]
            },
            {
                "name": "Perum Percetakan Uang Republik Indonesia (Peruri)",
                "subsidiaries": [
                    { "name": "PT Peruri Properti" }, { "name": "PT Kertas Padalarang" },
                    { "name": "PT Peruri Wira Timur" }, { "name": "PT Peruri Digital Security" },
                    { "name": "PT Cardsindo Tiga Perkasa (cucu perusahaan)" },
                    { "name": "PT Sicpa Peruri Securink (perusahaan afiliasi)" }
                ]
            }
        ]
    },
    // 9. Jasa Logistik
    {
        "name": "Jasa Logistik",
        "holdings": [
            {
                "name": "PT Pelabuhan Indonesia (Pelindo)",
                "subsidiaries": [
                    { "name": "PT Pelindo Terminal Petikemas (TPI) (Subholding)", "sub_subsidiaries": ["PT Prima Multi Terminal (55%)", "PT Jakarta International Container Terminal (JICT)"] },
                    { "name": "PT Pelindo Multi Terminal (Subholding)" },
                    { "name": "PT Solusi Logistik (Subholding)", "sub_subsidiaries": ["PT Menara Maritim Indonesia", "PT Akses Pelabuhan Indonesia"] },
                    { "name": "PT Pelindo Jasa Maritim (Subholding)", "sub_subsidiaries": ["PT LEGI"] },
                    { "name": "PT Prima Husada Cipta Medan" }, { "name": "PT Integrasi Logistik Cipta Solusi" },
                    { "name": "PT Pendidikan Maritim dan Logistik Indonesia" }, { "name": "PT Pelabuhan Indonesia Investama" },
                    { "name": "PT Pelindo Husada Cipta Medan" }, { "name": "PT Electronic Data Interchange Indonesia" }
                ]
            },
            {
                "name": "PT Kereta Api Indonesia (Persero) (PT KAI)",
                "subsidiaries": [
                    { "name": "PT Reska Multi Usaha" }, { "name": "PT KA Properti Manajemen" },
                    { "name": "PT KA Pariwisata" }, { "name": "PT Railink" },
                    { "name": "PT Pilar Sinergi BUMN Indonesia" }, { "name": "PT KAI Commuter Indonesia (KCI)" }
                ]
            },
            { "name": "PT Industri Kereta Api (Persero) (PT INKA)", "subsidiaries": [{ "name": "PT Reka Indo Global Jasa" }, { "name": "PT Inka Multi Solusi" }] },
            { "name": "PT Pelayaran Nasional Indonesia (Persero)", "subsidiaries": [{ "name": "PT Sarana Bandar Nasional" }, { "name": "PT PELITA INDONESIA DJAYA" }] },
            { "name": "PT ASDP Indonesia Ferry (Persero)", "subsidiaries": [{ "name": "PT Indonesia Ferry Properti" }, { "name": "PT Jembatan Nusantara" }] }
        ]
    },
    // 10. Jasa Pariwisata dan Penerbangan
    {
        "name": "Jasa Pariwisata dan Penerbangan",
        "holdings": [
            {
                "name": "PT Aviasi Pariwisata Indonesia (Persero) (InJourney)",
                "subsidiaries": [
                    { "name": "PT Angkasa Pura Indonesia (InJourney Airports)", "sub_subsidiaries": ["PT Angkasa Pura Logistik", "PT Angkasa Pura Properti", "PT Angkasa Pura Suport", "PT Angkasa Pura Hotel", "PT Angkasa Pura Retail"] },
                    { "name": "PT Integrasi Aviasi Solusi (InJourney Aviation Services)" },
                    { "name": "PT Hotel Indonesia Natour", "sub_subsidiaries": ["PT Hotel Indonesia Properti (HIPRO)"] },
                    { "name": "PT Sarinah" },
                    { "name": "PT Taman Wisata Candi Borobudur, Prambanan, dan Ratu Boko (TWC)" },
                    { "name": "PT Pengembangan Pariwisata Indonesia (ITDC)", "sub_subsidiaries": ["ITDC Nusantara Utilities (INU)"] }
                ]
            },
            {
                "name": "PT Garuda Indonesia (Persero)",
                "subsidiaries": [
                    { "name": "PT Aero Wisata" }, { "name": "PT Sabre Travel Network Indonesia" },
                    { "name": "PT Garuda Maintenance Facility Aero Asia Tbk (GMFAA)" },
                    { "name": "PT Aero Systems Indonesia (ASYST)" },
                    { "name": "PT Citilink Indonesia" }, { "name": "PT Gapura Angkasa" },
                    { "name": "Garuda Indonesia Holiday France" }
                ]
            }
        ]
    },
    // 11. Jasa Telekomunikasi dan Media
    {
        "name": "Jasa Telekomunikasi dan Media",
        "holdings": [
            {
                "name": "PT Telekomunikasi Indonesia (Persero) Tbk (Telkom Indonesia)",
                "subsidiaries": [
                    { "name": "PT PINS Indonesia" }, { "name": "PT Graha Sarana Duta" },
                    { "name": "PT Multimedia Nusantara (Metra)", "sub_subsidiaries": [
                        "PT Administrasi Medika (AdMedika)", "PT Finnet Indonesia (Finnet)", "PT Nuon Digital Indonesia (Nuon)",
                        {"name": "PT Infomedia Nusantara", "sub_subsidiaries": ["PT Infomedia Solusi Humanika", "PT Balebat Dedikasi Prima"]}
                    ] },
                    { "name": "PT Sigma Cipta Caraka (Telkomsigma)", "sub_subsidiaries": [
                        "PT Sigma Solusi Integrasi", "PT Sigma Karya Sempurna", "PT Signet Pratama", "Sigma AIT Sdn., Bhd.",
                        "PT Sigma Metrasys Solution", "PT Graha Telkomsigma"
                    ] },
                    { "name": "PT Metra-Net" }, { "name": "PT Dayamitra Telekomunikasi Indonesia Tbk" },
                    { "name": "PT Telekomunikasi Indonesia International (Telin)" },
                    { "name": "PT Napsindo Primatel International" }, { "name": "PT Telkom Akses" },
                    { "name": "PT Telekomunikasi Selular (Telkomsel)", "sub_subsidiaries": [
                        "Telkomsel Finance B.V (TFBV)", "Telekomunikasi Seluler Finance Ltd. (TSFL)"
                    ] },
                    { "name": "PT Telkom Satelit Indonesia (Telkomsat)" },
                    { "name": "PT Telekomunikasi Infrastruktur Indonesia (TIF)" },
                    { "name": "PT Telkom Data Ekosistem" }
                ]
            },
            { "name": "PT Produksi Film Negara (Persero)" },
            { "name": "Perum Lembaga Kantor Berita Nasional Antara (ANTARA)", "subsidiaries": [
                { "name": "PT Antara Kencana Utama Estate Limited" }, { "name": "PT Antara Elektronik Transaksi Pratama" }
            ] },
            { "name": "PT Industri Telekomunikasi Indonesia (Persero) (PT INTI)", "subsidiaries": [
                { "name": "PT Inti Pindad Mitra Sejati" }, { "name": "PT Inti Konten Indonesia" }
            ] }
        ]
    }
]};
// --------- END Data bumnData ---------

const clusterNav = document.querySelector('#cluster-nav ul');
const mainContent = document.getElementById('main-content');
let activeClusterLink = null;
let chartInstance = null;

// Tampilan Welcome
const createWelcomeMessage = () => `
    <div class="card-glass p-10 pt-16 rounded-3xl shadow-xl border border-blue-100 group-item-enter max-w-2xl mx-auto">
        <div class="flex justify-center mb-6">
            <div class="bg-blue-200 text-blue-700 p-5 rounded-full shadow-lg animate-bounce-slow">
               <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>
            </div>
        </div>
        <h2 class="text-3xl font-extrabold mb-3 text-blue-900 drop-shadow">Selamat Datang di Eksplorator BUMN</h2>
        <p class="text-lg text-slate-700 max-w-xl mx-auto mb-1">Menampilkan list struktur holding dan anak perusahaan BUMN Indonesia berdasarkan hasil scrapping data sementara.</p>
        <div class="mt-7 text-center">
            <span class="inline-block px-5 py-3 rounded-xl bg-gradient-to-tr from-blue-200 to-blue-400/60 text-blue-900 text-lg font-semibold tracking-wider shadow-md animate-pulse">
                Pilih klaster usaha dari menu di samping untuk mulai eksplorasi!
            </span>
        </div>
    </div>
`;

// Buat subsidiary HTML rekursif
const createSubsidiaryHTML = (subsidiaries) => {
    if (!subsidiaries || subsidiaries.length === 0) return '';
    let html = '<ul class="pl-6 mt-3 space-y-2 border-l-2 border-blue-200">';
    subsidiaries.forEach(sub => {
        let subName = typeof sub === 'string' ? sub : sub.name;
        let hasSubSubs = typeof sub === 'object' && sub.sub_subsidiaries && sub.sub_subsidiaries.length > 0;
        html += `
            <li class="text-slate-700 relative">
                <span class="absolute -left-[30px] top-2 h-0.5 w-6 bg-blue-200"></span>
                <div class="flex items-start gap-2">
                    <span class="text-blue-600 mt-1">&#8227;</span>
                    <div class="flex-1">
                        <span>${subName}</span>
                        ${hasSubSubs ? createSubsidiaryHTML(sub.sub_subsidiaries) : ''}
                    </div>
                </div>
            </li>`;
    });
    html += '</ul>';
    return html;
};

// Tampilkan klaster
const displayCluster = (clusterName) => {
    const clusterData = bumnData.clusters.find(c => c.name === clusterName);
    if (!clusterData) {
        mainContent.innerHTML = createWelcomeMessage();
        return;
    }

    let contentHTML = `
        <div class="group-item-enter">
            <button class="homebtn bg-blue-100/60 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-lg mb-6 flex items-center gap-2 font-semibold shadow hover:shadow-md border border-blue-200 text-sm transition"
                onclick="window.showHome()"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 -ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7m-9 2v8m4-8v8m5 0h2a2 2 0 002-2V7a2 2 0 00-.586-1.414l-7-7a2 2 0 00-2.828 0l-7 7A2 2 0 003 7v11a2 2 0 002 2h2" /></svg> Beranda</button>
            <h2 class="text-4xl font-extrabold text-blue-800 mb-3">${clusterData.name}</h2>
            <p class="text-xl text-slate-600 mb-8">Pemetaan perusahaan holding di klaster ini.<br><span class="text-base text-blue-400">Klik setiap kartu untuk eksplorasi anak perusahaannya.</span></p>
        </div>
    `;
    if (clusterData.holdings && clusterData.holdings.length > 0) {
         contentHTML += `
            <div class="mb-12 group-item-enter" style="animation-delay: 0.1s;">
               <div class="card-glass p-8 rounded-2xl shadow-xl border border-blue-200">
                    <h3 class="text-2xl font-bold text-blue-700 mb-6">Distribusi Anak Perusahaan</h3>
                    <div class="chart-container">
                        <canvas id="clusterChart"></canvas>
                    </div>
               </div>
            </div>
         `;
    }

    contentHTML += '<div class="space-y-8">';
    clusterData.holdings.forEach((holding, index) => {
        const hasSubsidiaries = holding.subsidiaries && holding.subsidiaries.length > 0;
        contentHTML += `
            <div class="card-glass rounded-2xl shadow-lg border border-blue-100 overflow-hidden content-card group-item-enter hover:scale-[1.025] hover:shadow-2xl transition-all duration-150" style="animation-delay: ${0.2 + index * 0.1}s;">
                <button class="w-full text-left p-7 hover:bg-blue-50/40 focus:outline-none flex justify-between items-center transition-colors duration-200" data-target="subs-for-${index}">
                    <div>
                        <h3 class="text-2xl font-semibold text-blue-700 drop-shadow">${holding.name}</h3>
                        <p class="text-slate-600 mt-2">${hasSubsidiaries ? holding.subsidiaries.length + ' anak perusahaan terdaftar' : 'Tidak ada data anak perusahaan'}</p>
                    </div>
                     <svg class="w-7 h-7 text-blue-300 group-hover:text-blue-500 transition-transform transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                </button>
                <div id="subs-for-${index}" class="subsidiary-list px-7 pb-7 border-t border-blue-50 bg-blue-50/20 rounded-b-2xl">
                   <div class="pt-5">
                    ${hasSubsidiaries ? createSubsidiaryHTML(holding.subsidiaries) : '<p class="text-slate-500">Informasi tidak tersedia.</p>'}
                   </div>
                </div>
            </div>`;
    });
    contentHTML += '</div>';

    mainContent.innerHTML = contentHTML;
    
    // Chart
    if (chartInstance) chartInstance.destroy();
    const chartCtx = document.getElementById('clusterChart')?.getContext('2d');
    if (chartCtx) {
        const labels = clusterData.holdings.map(h => h.name.replace(/ \(Persero\)| Tbk| \(Persero\) Tbk/g, ''));
        const data = clusterData.holdings.map(h => h.subsidiaries ? h.subsidiaries.length : 0);

        chartInstance = new Chart(chartCtx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Jumlah Anak Perusahaan',
                    data: data,
                    backgroundColor: 'rgba(59,130,246,0.85)',
                    borderColor: 'rgba(59,130,246,1)',
                    borderWidth: 1,
                    borderRadius: 8,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true, grid: { color: '#e0e7ef' } },
                    x: { 
                        grid: { display: false },
                        ticks: { maxRotation: 45, minRotation: 45 }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: '#1e293b',
                        titleFont: { size: 16, weight: 'bold' },
                        bodyFont: { size: 14 },
                        padding: 14,
                        cornerRadius: 8,
                        displayColors: false
                    }
                }
            }
        });
    }
};

// Toggle accordion & animasi panah
mainContent.addEventListener('click', (e) => {
    const button = e.target.closest('button[data-target]');
    if (button) {
        const targetId = button.getAttribute('data-target');
        const targetElement = document.getElementById(targetId);
        const icon = button.querySelector('svg');
        if (targetElement) {
            const isVisible = targetElement.style.display === 'block';
            targetElement.style.display = isVisible ? 'none' : 'block';
            icon.classList.toggle('rotate-180', !isVisible);
        }
    }
});

// Sidebar nav
document.addEventListener('DOMContentLoaded', () => {
    bumnData.clusters.forEach((cluster, i) => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = '#';
        a.textContent = cluster.name;
        a.className = 'flex items-center px-4 py-3 text-blue-50/90 rounded-xl hover:bg-blue-200/40 hover:text-blue-900 transition-colors font-medium sidebar-item';
        a.dataset.cluster = cluster.name;
        a.addEventListener('click', (e) => {
            e.preventDefault();
            if (activeClusterLink) activeClusterLink.classList.remove('sidebar-item-active');
            a.classList.add('sidebar-item-active');
            activeClusterLink = a;
            displayCluster(cluster.name);
        });
        li.appendChild(a);
        clusterNav.appendChild(li);
    });
    showHome();
});

// Untuk global akses dari tombol "Beranda"
window.showHome = function() {
    mainContent.innerHTML = createWelcomeMessage();
    if (activeClusterLink) activeClusterLink.classList.remove('sidebar-item-active');
    activeClusterLink = null;
};
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eksplorator Struktur Holding BUMN</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='24' fill='%232563eb'/><rect x='24' y='16' width='52' height='22' rx='7' fill='%23fff'/><rect x='16' y='40' width='68' height='20' rx='6' fill='%2360a5fa'/><rect x='28' y='64' width='44' height='20' rx='6' fill='%23fff'/></svg>">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#2563eb">
  <style>
    html, body { height: 100%; font-family: 'Inter', sans-serif; }
    body { background: linear-gradient(135deg, #dbeafe 0%, #f0fdfa 100%)!important; transition:background 0.3s; }
    .dark body { background: linear-gradient(135deg,#1e293b 0%, #334155 100%)!important; color-scheme: dark; }
    #sidebar {
      background: linear-gradient(160deg, #2563eb 80%, #60a5fa 100%);
      backdrop-filter: blur(10px);
      border-right: 2px solid #3b82f6;
      transition: background 0.3s, left 0.3s cubic-bezier(.16,1,.3,1);
      box-shadow: 4px 0 24px 0 #1e3a8a16;
      color: #fff;
      z-index:40;
      display:flex; flex-direction:column; height:100vh; max-height:100vh;
    }
    .dark #sidebar {
      background: linear-gradient(160deg, #1e293b 85%, #2563eb 100%);
      color: #e0e7ef;
      border-right: 2px solid #64748b;
    }
    #sidebar-scroll {
      flex:1 1 0%; min-height:0; overflow-y:auto; overflow-x:hidden; padding-bottom:1.5rem;
    }
    #sidebar::-webkit-scrollbar,
    #sidebar-scroll::-webkit-scrollbar { width:10px;}
    #sidebar::-webkit-scrollbar-thumb,
    #sidebar-scroll::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, #bae6fd 40%, #2563eb 100%);
      border-radius: 12px; min-height: 60px;
      border: 2px solid #f1f5f9;
    }
    .dark #sidebar::-webkit-scrollbar-thumb,
    .dark #sidebar-scroll::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, #334155 10%, #60a5fa 80%);
      border:2px solid #1e293b;
    }
    .sidebar-item { transition: background 0.15s, color 0.15s; }
    .sidebar-item-active {
      background: #fff !important;
      color: #2563eb !important;
      font-weight: 700;
      box-shadow: 0 6px 16px -8px #3b82f6;
    }
    .sidebar-item:hover { background: #bae6fd !important; color: #2563eb; }
    .dark .sidebar-item { color: #cbd5e1; }
    .dark .sidebar-item:hover { background: #1e293b !important; color: #60a5fa;}
    .dark .sidebar-item-active { background:#60a5fa !important; color:#1e293b !important; }
    .search-input::placeholder { color: #2563eb; opacity:1;}
    .search-input { color:#1e293b; background: #fff;}
    .dark .search-input { background:#1e293b; color:#fff; }
    .dark .search-input::placeholder { color:#94a3b8;}
    .mode-toggle { cursor:pointer; transition: all 0.18s; }
    .mode-toggle:hover { opacity:.9; scale:1.07; }
    .sidebar-header-bar {display: flex; align-items: center; justify-content: space-between;}
    .card-glass { background:rgba(255,255,255,0.85); backdrop-filter: blur(10px);}
    .dark .card-glass { background:rgba(30,41,59,0.95);}
    /* Responsif */
    @media (max-width: 767px) {
      #sidebar {
        position: fixed;
        top: 0; left: -100vw; bottom:0; width: 82vw; max-width: 320px;
        height: 100vh; max-height: 100vh; z-index:50;
      }
      #sidebar.show { left: 0; }
      .fadebg { background: rgba(30,58,138,0.14); position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:40; display:none; }
      .fadebg.show { display:block; }
    }
    @media (min-width:768px) {
      #sidebar { position:fixed; left:0; top:0; width:18rem; max-width:360px; }
      .main-content-wrap { margin-left:18rem;}
    }
    .fadebg {display:none;}
  </style>
</head>
<body class="text-slate-800 transition-colors duration-300">

<div id="fadebg" class="fadebg"></div>

<!-- Sidebar Desktop & Mobile -->
<aside id="sidebar">
  <div class="sidebar-header-bar px-5 pt-7 pb-1">
    <div class="flex items-center gap-3 select-none">
      <svg width="30" height="30" viewBox="0 0 100 100" fill="none">
        <rect width="100" height="100" rx="24" fill="#2563eb"/>
        <rect x="24" y="16" width="52" height="22" rx="7" fill="#fff"/>
        <rect x="16" y="40" width="68" height="20" rx="6" fill="#60a5fa"/>
        <rect x="28" y="64" width="44" height="20" rx="6" fill="#fff"/>
      </svg>
      <span class="text-lg font-extrabold text-white drop-shadow tracking-wide dark:text-blue-100">Holding BUMN</span>
    </div>
    <button id="toggleModeBtn" class="mode-toggle" aria-label="Toggle dark mode">
      <svg class="w-8 h-8" id="iconMode" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <circle cx="12" cy="12" r="6" fill="#fde68a"/><path d="M12 2v2m0 16v2m10-10h-2M4 12H2m15.07-7.07l-1.42 1.42M7.05 7.05L5.64 5.64m12.02 12.02l-1.42-1.42M7.05 16.95l-1.41 1.41" stroke="#fbbf24" stroke-width="2"/>
      </svg>
    </button>
    <div id="openSidebar" class="hamburger md:hidden ml-3" aria-label="Menu Sidebar" tabindex="0">
      <div class="w-7 h-1.5 rounded bg-white my-1"></div>
      <div class="w-7 h-1.5 rounded bg-white my-1"></div>
      <div class="w-7 h-1.5 rounded bg-white my-1"></div>
    </div>
  </div>
  <div id="sidebar-scroll">
    <div class="px-5 py-3">
      <div class="relative">
        <input type="text" id="search" class="search-input w-full rounded-lg px-4 py-2 outline-none focus:ring-2 focus:ring-blue-400 transition text-base font-medium" placeholder="Cari Klaster, Holding, atau Anak Perusahaan..." autocomplete="off">
        <svg class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-blue-500 pointer-events-none" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8" /><path d="M21 21l-4.35-4.35" /></svg>
      </div>
    </div>
    <nav id="cluster-nav" class="mb-4 px-2">
      <h2 class="text-xs font-bold text-blue-100 uppercase tracking-widest mb-4 pl-1">Klaster Usaha</h2>
      <ul class="space-y-1 pb-6"></ul>
    </nav>
  </div>
  <footer class="p-4 pb-7 text-xs text-blue-100 text-center opacity-90 select-none">Â© 2025 Eksplorator BUMN.<br>fmbojo@gmail.com</footer>
</aside>

<main class="main-content-wrap flex-1 p-4 sm:p-10 flex items-center justify-center min-h-screen" style="background: none;">
  <div id="main-content" class="w-full"></div>
</main>

<script>
// ===================== DATA =========================
const bumnData = { "clusters": [
    // 1. Energi, Minyak dan Gas
    {
        "name": "Energi, Minyak dan Gas",
        "holdings": [
            {
                "name": "PT Pertamina (Persero)",
                "subsidiaries": [
                    { "name": "PT Nusantara Regas" },
                    { "name": "PPT Energy Trading Co Ltd" },
                    { "name": "PT Pertamina Training & Consulting" },
                    { "name": "PT Pertamina Hulu Energi (PHE)", "sub_subsidiaries": ["PT Elnusa Tbk", "PT Pertamina Drilling Services Indonesia (PDSI)", "PT Badak NGL", "65 anak perusahaan lainnya"] },
                    { "name": "PT Pelita Air Service" },
                    { "name": "PT Pertamina Pedeve Indonesia" },
                    { "name": "PT Pertamina Bina Medika" },
                    { "name": "PT Kilang Pertamina Internasional", "sub_subsidiaries": ["Pertamina Rosneft Pengolahan & Petrokimia"] },
                    { "name": "PT Tuban Petrochemical Industries" },
                    { "name": "PT Pertamina International Shipping" },
                    { "name": "PT Asuransi Tugu Pratama Indonesia Tbk" },
                    { "name": "PT Pertamina Power Indonesia", "sub_subsidiaries": [
                        "PT Industri Baterai Indonesia",
                        { "name": "PT Pertamina Geothermal Energy (PGE)", "sub_subsidiaries": ["PT Geothermal Energi Seulawah", "PT Pertamina Geothermal Energy Kotamobagu"] }
                    ] },
                    { "name": "PT Pertamina Patra Niaga", "sub_subsidiaries": [
                        "Pertamina Retail",
                        "Pertamina International M&D",
                        "Pertamina Petrochemical Trading",
                        "Patra SK",
                        { "name": "PT Pertamina Lubricants", "sub_subsidiaries": ["Anak perusahaan di Thailand", "PT Katalis Sinergi Indonesia (patungan)"] },
                        "Pertamina Patra Logistik",
                        "Pertamina Maintenance & Construction",
                        "Pertamina International Timor"
                    ] },
                    { "name": "PT Patra Jasa" },
                    { "name": "PT Perusahaan Gas Negara Tbk (PGN)", "sub_subsidiaries": [
                        "Gagas Energi", "PGAS Solution", "PGAS Telekomunikasi Nusantara", "Nusantara Regas", "Transportasi Gas Negara"
                    ] }
                ]
            },
            {
                "name": "PT Perusahaan Listrik Negara (Persero) (PLN)",
                "subsidiaries": [
                    { "name": "PT Prima Layanan Nasional Enjiniring (PLN Enjiniring)" },
                    { "name": "PT PLN Indonesia Power" },
                    { "name": "PT PLN Nusantara Power", "sub_subsidiaries": [{ "name": "PT PLN Nusantara Power Construction (PLN NPC)", "sub_subsidiaries": ["PT Prima Power Nusantara"] }] },
                    { "name": "PT PLN Batam" },
                    { "name": "PT PLN Tarakan" },
                    { "name": "PT PLN Energi Primer Indonesia" },
                    { "name": "PT Haleyora Power", "sub_subsidiaries": ["PT Haleyora Powerindo (HPI)"] },
                    { "name": "Majapahit Holding BV" },
                    { "name": "PT Mandau Cipta Tenaga Nusantara" },
                    { "name": "PT PLN ICON Plus" },
                    { "name": "PT Pelayaran Bahtera Adhiguna" },
                    { "name": "PT PLN Batu Bara" },
                    { "name": "PT Pengembangan Listrik Nasional Geothermal" }
                ]
            }
        ]
    },
    // 2. Kesehatan
    {
        "name": "Kesehatan",
        "holdings": [
            {
                "name": "PT Bio Farma (Persero)",
                "subsidiaries": [
                    { "name": "PT Kimia Farma Tbk", "sub_subsidiaries": [
                        "Kimia Farma Apotek", "Phapros", "Sinkona Indonesia Lestari",
                        "Kimia Farma Trading & Distribution", "Kimia Farma Sungwun Pharmacopia", "Kimia Farma Dawaa Co., Ltd."
                    ] },
                    { "name": "Indofarma" },
                    { "name": "INUKI" }
                ]
            }
        ]
    },
    // 3. Manufaktur
    {
        "name": "Manufaktur",
        "holdings": [
            { "name": "PT Biro Klasifikasi Indonesia (Persero) (ID Survey)", "subsidiaries": [{ "name": "PT Sucofindo" }] },
            {
                "name": "PT Len Industri (Persero) (DEFEND ID)",
                "subsidiaries": [
                    { "name": "PT PAL Indonesia" },
                    { "name": "PT Surya Energi Indotama" },
                    { "name": "PT Eltran Indonesia" },
                    { "name": "PT Dahana" },
                    { "name": "PT Dirgantara Indonesia", "sub_subsidiaries": [
                        "IPTN North America, Inc.",
                        "PT General Electric Nusantara Turbine Services (GENTS)",
                        "PT General Electric Technology Indonesia (GETI)",
                        "PT Nusantara Turbin dan Propulsi"
                    ] }
                ]
            },
            {
                "name": "PT Krakatau Steel (Persero) Tbk",
                "subsidiaries": [
                    { "name": "PT Meratus Jaya Iron Steel" },
                    { "name": "PT Krakatau Engineering" },
                    { "name": "PT Krakatau Baja Konstruksi" },
                    { "name": "PT Krakatau Sarana Infrastruktur" }
                ]
            },
            {
                "name": "PT Mineral Industri Indonesia (Persero) (MIND ID)",
                "subsidiaries": [
                    { "name": "PT Indonesia Asahan Aluminium (Inalum)", "sub_subsidiaries": [
                        "PT Indonesia Aluminium Alloy",
                        "PT Borneo Alumina Indonesia",
                        "PT Industri Baterai Indonesia",
                        "PT Sarana Multi Logam Indonesia (SMLI)"
                    ] },
                    { "name": "MIND ID Trading Pte Ltd" },
                    { "name": "PT TIMAH Tbk", "sub_subsidiaries": [
                        "Perbengkelan & galangan kapal", "Jasa rekayasa teknik", "Penambangan timah", "Konsultasi & penelitian", "Penambangan non-timah"
                    ] },
                    { "name": "PT Bukit Asam Tbk (PTBA)", "sub_subsidiaries": [
                        "PT Batubara Bukit Kendi", "PT Bukit Asam Banko", "PT Bukit Asam Metana Enim",
                        "PT Bukit Asam Metana Ombilin", "PT Bukit Asam Prima", "PT Bukit Energi Investama",
                        "PT Bukit Multi Investama", "PT Internasional Prima Coal"
                    ] },
                    { "name": "PT Aneka Tambang Tbk (ANTM)", "sub_subsidiaries": [
                        "PT Indonesia Chemical Alumina", "PT Cibaliung Sumberdaya", "PT Mega Citra Utama",
                        "PT Antam Resourcindo", "Asia Pacific Nickel", "PT Jatim Arindo Persada"
                    ] },
                    { "name": "PT Freeport Indonesia" }
                ]
            }
        ]
    },
    // 4. Pangan dan Pupuk
    {
        "name": "Pangan dan Pupuk",
        "holdings": [
            {
                "name": "PT Pupuk Indonesia (Persero)",
                "subsidiaries": [
                    { "name": "PT Pupuk Sriwidjaja Palembang" },
                    { "name": "PT Pupuk Kalimantan Timur", "sub_subsidiaries": ["PT Kaltim Industrial Estate (KIE)", "PT Kaltim Pasifik Amoniak (KPA)", "Kalianusa (patungan)"] },
                    { "name": "PT Petrokimia Gresik", "sub_subsidiaries": ["PT Petrokimia Kayaku", "PT Petrosida Gresik", "PT Petro Jordan Abadi (50%)"] },
                    { "name": "PT Rekayasa Industri" },
                    { "name": "PT Pupuk Indonesia Niaga", "sub_subsidiaries": ["PT Sigma Utama"] },
                    { "name": "PT Pupuk Iskandar Muda" },
                    { "name": "PT Pupuk Kujang Cikampek" }
                ]
            },
            { "name": "Perum BULOG", "subsidiaries": [{ "name": "PT Mitra Bumdes Nusantara", "sub_subsidiaries": ["PT Jasa Prima Logistik BULOG (PT JPLB)", "PT Gendis Multi Manis"] }] },
            {
                "name": "PT Rajawali Nusantara Indonesia (Persero) (ID Food)",
                "subsidiaries": [
                    { "name": "PT Mitra Kerinci" },
                    { "name": "PT GIEB Indonesia" },
                    { "name": "PT Perkebunan Mitra Ogan" },
                    { "name": "PT PG Candi Baru" },
                    { "name": "PT Laras Astra Kartika" },
                    { "name": "PT Berdikari" },
                    { "name": "PT Garam" }
                ]
            }
        ]
    },
    // 5. Perkebunan dan Kehutanan
    {
        "name": "Perkebunan dan Kehutanan",
        "holdings": [
            {
                "name": "PT Perkebunan Nusantara III (Persero)",
                "subsidiaries": [
                    {"name": "PTPN I, II, IV-XIV (13 PTPN)"},
                    { "name": "PT Kawasan Industri Nusantara" },
                    { "name": "PT Riset Perkebunan Nusantara" },
                    { "name": "PT Sri Pamela Medika Nusantara" },
                    { "name": "PT Industri Nabati Lestari" },
                    { "name": "PT LPP Agro Nusantara" },
                    { "name": "PT Sinergi Gula Nusantara", "sub_subsidiaries": ["Mengelola 36 pabrik gula di Sumatera, Jawa, dan Sulawesi"] },
                    { "name": "PT Japan Indonesia China Wood" },
                    { "name": "PT Kharisma Pemasaran Bersama Nusantara" },
                    { "name": "PT Industri Karet Nusantara" },
                    { "name": "PT ESW Nusa Tiga" },
                    { "name": "PT Bio Industri Nusantara (BIONUSA)" },
                    { "name": "PT Sarana Agro Nusatara (SAN)" }
                ]
            },
            {
                "name": "Perum Perhutani",
                "subsidiaries": [
                    { "name": "PT Inhutani I, II, III, IV, V" },
                    { "name": "PT BUMN Hijau Lestari I" },
                    { "name": "PT Palawi Risorsis" }
                ]
            }
        ]
    },
    // 6. Jasa Asuransi dan Dana Pensiun
    {
        "name": "Jasa Asuransi dan Dana Pensiun",
        "holdings": [
            {
                "name": "PT Bahana Pembinaan Usaha Indonesia (Persero) (IFG)",
                "subsidiaries": [
                    { "name": "PT Asuransi Kredit Indonesia (Askrindo)" },
                    { "name": "PT Asuransi Kerugian Jasa Raharja", "sub_subsidiaries": ["PT Jasaraharja Putera (JRP INSURANCE)"] },
                    { "name": "PT Asuransi Jasa Indonesia (Jasindo)" },
                    { "name": "PT Jaminan Kredit Indonesia (Jamkrindo)" },
                    { "name": "PT Grahaniaga Tatautama", "sub_subsidiaries": ["PT Griyacanggu Tatautama (Hotel/Condotel Bali)", "PT Nusa Sarana Pradipta (Financial Club Jakarta)"] },
                    { "name": "PT Asuransi Jiwa IFG (IFG Life)" },
                    { "name": "PT Bahana Sekuritas" },
                    { "name": "PT Bahana TCW Investment Management" },
                    { "name": "PT Bahana Artha Ventura" },
                    { "name": "PT Bahana Kapital Investa" }
                ]
            },
            { "name": "PT Reasuransi Indonesia Utama (Persero)", "subsidiaries": [{ "name": "PT Asuransi ASEI Indonesia" }] }
        ]
    },
    // 7. Jasa Infrastruktur
    {
        "name": "Jasa Infrastruktur",
        "holdings": [
            {
                "name": "PT Semen Indonesia (Persero) Tbk (SIG)",
                "subsidiaries": [
                    { "name": "PT Semen Padang" }, { "name": "PT Semen Tonasa" }, { "name": "Thang Long Cement JSC (TLCC)" },
                    { "name": "PT Semen Indonesia Industri Bangunan" }, { "name": "PT Semen Indonesia Aceh" },
                    { "name": "PT Semen Indonesia Logistik" }, { "name": "PT Sinergi Informatika Semen Indonesia" },
                    { "name": "PT Semen Indonesia International" }, { "name": "PT Industri Kemasan Semen Gresik" },
                    { "name": "PT Kawasan Industri Gresik" }, { "name": "PT Semen Gresik and subsidiary" },
                    { "name": "PT Semen Indonesia Beton and subsidiary" }, { "name": "PT Semen Kupang Indonesia" },
                    { "name": "PT Sinergi Mitra Investama" }, { "name": "PT United Tractors Semen Gresik" },
                    { "name": "PT Semen Baturaja (Persero) Tbk" }, { "name": "PT Solusi Bangun Indonesia Tbk" }
                ]
            },
            {
                "name": "PT Jasa Marga (Persero) Tbk",
                "subsidiaries": [
                    { "name": "PT Jasamarga Manado Bitung" }, { "name": "PT Marga Trans Nusantara" },
                    { "name": "PT Jalantol Lingkarluar Jakarta" }, { "name": "PT Marga Sarana Jabar" },
                    { "name": "PT Marga Lingkar Jakarta" }, { "name": "PT Jasamarga Related Business" },
                    { "name": "PT Cinere Serpong Jaya" }, { "name": "PT Jasamarga Balikpapan Samarinda" },
                    { "name": "PT Jasamarga Transjawa Tol" }, { "name": "PT Jasamarga Japek Selatan" },
                    { "name": "PT Jasamarga Probolinggo Banyuwangi" }, { "name": "PT Jasamarga Gedebage Cilacap" },
                    { "name": "PT Jasamarga Jogja Bawen" }, { "name": "PT Jasamarga Gempol Pasuruan" },
                    { "name": "PT Jasamarga Kualanamu Tol" }, { "name": "PT Jasamarga Bali Tol" },
                    { "name": "PT Jasamarga Tollroad Maintenance" }, { "name": "PT Jasamarga Tollroad Operator" }
                ]
            },
            {
                "name": "PT Wijaya Karya (Persero) Tbk (Wika)",
                "subsidiaries": [
                    { "name": "PT WIKA Tirta Jaya Jatiluhur" },
                    { "name": "PT Wijaya Karya Beton", "sub_subsidiaries": ["PT Wijaya Karya Komponen Beton", "PT Wijaya Karya Krakatau Beton", "PT Citra Lautan Teduh", "PT Wijaya Karya Pracetak Gedung"] },
                    { "name": "PT Wijaya Karya Realty" }
                ]
            },
            {
                "name": "PT Pembangunan Perumahan (Persero) Tbk (PP)",
                "subsidiaries": [
                    { "name": "PT PP Properti Tbk" }, { "name": "PT PP Urban" }, { "name": "PT PP Energi" },
                    { "name": "PT Sinergi Colomadu" }, { "name": "PT Centurion Perkasa Iman" },
                    { "name": "PT PP Infrastruktur" }, { "name": "PT PP Presisi Tbk", "sub_subsidiaries": ["PT Lancarjaya Mandiri Abadi"] }
                ]
            },
            {
                "name": "PT Waskita Karya (Persero) Tbk (Waskita)",
                "subsidiaries": [
                    { "name": "PT Waskita Toll Road" }, { "name": "PT Waskita Beton Precast Tbk" },
                    { "name": "PT Waskita Karya Realty" }, { "name": "PT Waskita Karya Infrastruktur" }
                ]
            },
            {
                "name": "PT Adhi Karya (Persero) Tbk",
                "subsidiaries": [
                    { "name": "PT Dumai Tirta Persada" }, { "name": "PT Adhi Commuter Properti (ACP)" },
                    { "name": "PT Adhi Persada Beton (APB)" }, { "name": "PT Adhi Persada Gedung (APG)" },
                    { "name": "PT Adhi Persada Properti (APP)" }, { "name": "PT Adhi Jalintim Riau" },
                    { "name": "PT Jalintim Adhi Abipraya" }
                ]
            },
            {
                "name": "PT Hutama Karya (Persero)",
                "subsidiaries": [
                    { "name": "PT HaKaAston" }, { "name": "PT HK Realtindo" },
                    { "name": "EPC Energy Singapore Pte. Ltd" },
                    { "name": "PT HK Infrastruktur (HKI)", "sub_subsidiaries": ["PT Petronesia Benimel", "PT Bhirawa Steel", "PT Semen Indogreen Sentosa", "PT Hutama Mambelim Trans Papua", "PT Hutama Panorama Sitinjau Lauik"] },
                    { "name": "PT Hutama Marga Waskita" }
                ]
            },
            { "name": "PT Brantas Abipraya (Persero)", "subsidiaries": [{ "name": "PT Brantas Energi" }] },
            { "name": "Perum Perumnas", "subsidiaries": [{ "name": "PT Propernas Nusa Dua" }, { "name": "PT Propernas Griya Utama" }] }
        ]
    },
    // 8. Jasa Keuangan
    {
        "name": "Jasa Keuangan",
        "holdings": [
            {
                "name": "PT Bank Rakyat Indonesia (Persero) Tbk (BRI)",
                "subsidiaries": [
                    { "name": "PT Permodalan Nasional Madani (PNM)", "sub_subsidiaries": ["PT Mitra Utama Madani (MUM)"] },
                    { "name": "PT BRI Agroniaga Tbk" }, { "name": "BRI Remittance Co. Ltd." },
                    { "name": "PT Asuransi BRI Life" }, { "name": "PT BRI Multifinance Indonesia" },
                    { "name": "PT BRI Ventura Investama" }, { "name": "PT BRI Asuransi Indonesia" },
                    { "name": "PT Bank Raya Indonesia Tbk" }, { "name": "PT Pegadaian", "sub_subsidiaries": ["PT POJ", "PT PIJ"] },
                    { "name": "BRI Danareksa Sekuritas" }, { "name": "Danareksa Investment Management" }
                ]
            },
            {
                "name": "PT Bank Negara Indonesia (Persero) Tbk (BNI)",
                "subsidiaries": [
                    { "name": "PT BNI Sekuritas", "sub_subsidiaries": ["BNI Securities Pte. Ltd."] },
                    { "name": "PT BNI Life Insurance" }, { "name": "PT BNI Multifinance" },
                    { "name": "BNI Remittance Ltd." }, { "name": "PT BANK HIBANK INDONESIA" },
                    { "name": "PT BNI Modal Ventura" }
                ]
            },
            {
                "name": "PT Bank Mandiri (Persero) Tbk",
                "subsidiaries": [
                    { "name": "PT Mandiri Utama Finance" },
                    { "name": "PT Mandiri Capital Indonesia" },
                    { "name": "PT Bank Syariah Indonesia Tbk (BSI)" }
                ]
            },
            {
                "name": "Perum Percetakan Uang Republik Indonesia (Peruri)",
                "subsidiaries": [
                    { "name": "PT Peruri Properti" }, { "name": "PT Kertas Padalarang" },
                    { "name": "PT Peruri Wira Timur" }, { "name": "PT Peruri Digital Security" },
                    { "name": "PT Cardsindo Tiga Perkasa (cucu perusahaan)" },
                    { "name": "PT Sicpa Peruri Securink (perusahaan afiliasi)" }
                ]
            }
        ]
    },
    // 9. Jasa Transportasi & Logistik
    {
        "name": "Jasa Transportasi & Logistik",
        "holdings": [
            {
                "name": "PT Pelabuhan Indonesia (Pelindo)",
                "subsidiaries": [
                    { "name": "PT Pelindo Terminal Petikemas (TPI) (Subholding)", "sub_subsidiaries": ["PT Prima Multi Terminal (55%)", "PT Jakarta International Container Terminal (JICT)"] },
                    { "name": "PT Pelindo Multi Terminal (Subholding)" },
                    { "name": "PT Solusi Logistik (Subholding)", "sub_subsidiaries": ["PT Menara Maritim Indonesia", "PT Akses Pelabuhan Indonesia"] },
                    { "name": "PT Pelindo Jasa Maritim (Subholding)", "sub_subsidiaries": ["PT LEGI"] },
                    { "name": "PT Prima Husada Cipta Medan" }, { "name": "PT Integrasi Logistik Cipta Solusi" },
                    { "name": "PT Pendidikan Maritim dan Logistik Indonesia" }, { "name": "PT Pelabuhan Indonesia Investama" },
                    { "name": "PT Pelindo Husada Cipta Medan" }, { "name": "PT Electronic Data Interchange Indonesia" }
                ]
            },
            {
                "name": "PT Kereta Api Indonesia (Persero) (PT KAI)",
                "subsidiaries": [
                    { "name": "PT Reska Multi Usaha" }, { "name": "PT KA Properti Manajemen" },
                    { "name": "PT KA Pariwisata" }, { "name": "PT Railink" },
                    { "name": "PT Pilar Sinergi BUMN Indonesia" }, { "name": "PT KAI Commuter Indonesia (KCI)" }
                ]
            },
            { "name": "PT Industri Kereta Api (Persero) (PT INKA)", "subsidiaries": [{ "name": "PT Reka Indo Global Jasa" }, { "name": "PT Inka Multi Solusi" }] },
            { "name": "PT Pelayaran Nasional Indonesia (Persero)", "subsidiaries": [{ "name": "PT Sarana Bandar Nasional" }, { "name": "PT PELITA INDONESIA DJAYA" }] },
            { "name": "PT ASDP Indonesia Ferry (Persero)", "subsidiaries": [{ "name": "PT Indonesia Ferry Properti" }, { "name": "PT Jembatan Nusantara" }] }
        ]
    },
    // 10. Jasa Pariwisata dan Penerbangan
    {
        "name": "Jasa Pariwisata dan Penerbangan",
        "holdings": [
            {
                "name": "PT Aviasi Pariwisata Indonesia (Persero) (InJourney)",
                "subsidiaries": [
                    { "name": "PT Angkasa Pura Indonesia (InJourney Airports)", "sub_subsidiaries": ["PT Angkasa Pura ", "PT Angkasa Pura Properti", "PT Angkasa Pura Suport", "PT Angkasa Pura Hotel", "PT Angkasa Pura Retail"] },
                    { "name": "PT Integrasi Aviasi Solusi (InJourney Aviation Services)" },
                    { "name": "PT Hotel Indonesia Natour", "sub_subsidiaries": ["PT Hotel Indonesia Properti (HIPRO)"] },
                    { "name": "PT Sarinah" },
                    { "name": "PT Taman Wisata Candi Borobudur, Prambanan, dan Ratu Boko (TWC)" },
                    { "name": "PT Pengembangan Pariwisata Indonesia (ITDC)", "sub_subsidiaries": ["ITDC Nusantara Utilities (INU)"] }
                ]
            },
            {
                "name": "PT Garuda Indonesia (Persero)",
                "subsidiaries": [
                    { "name": "PT Aero Wisata" }, { "name": "PT Sabre Travel Network Indonesia" },
                    { "name": "PT Garuda Maintenance Facility Aero Asia Tbk (GMFAA)" },
                    { "name": "PT Aero Systems Indonesia (ASYST)" },
                    { "name": "PT Citilink Indonesia" }, { "name": "PT Gapura Angkasa" },
                    { "name": "Garuda Indonesia Holiday France" }
                ]
            }
        ]
    },
    // 11. Jasa Telekomunikasi dan Media
    {
        "name": "Jasa Telekomunikasi dan Media",
        "holdings": [
            {
                "name": "PT Telekomunikasi Indonesia (Persero) Tbk (Telkom Indonesia)",
                "subsidiaries": [
                    { "name": "PT PINS Indonesia" }, { "name": "PT Graha Sarana Duta" },
                    { "name": "PT Multimedia Nusantara (Metra)", "sub_subsidiaries": [
                        "PT Administrasi Medika (AdMedika)", "PT Finnet Indonesia (Finnet)", "PT Nuon Digital Indonesia (Nuon)",
                        {"name": "PT Infomedia Nusantara", "sub_subsidiaries": ["PT Infomedia Solusi Humanika", "PT Balebat Dedikasi Prima"]}
                    ] },
                    { "name": "PT Sigma Cipta Caraka (Telkomsigma)", "sub_subsidiaries": [
                        "PT Sigma Solusi Integrasi", "PT Sigma Karya Sempurna", "PT Signet Pratama", "Sigma AIT Sdn., Bhd.",
                        "PT Sigma Metrasys Solution", "PT Graha Telkomsigma"
                    ] },
                    { "name": "PT Metra-Net" }, { "name": "PT Dayamitra Telekomunikasi Indonesia Tbk" },
                    { "name": "PT Telekomunikasi Indonesia International (Telin)" },
                    { "name": "PT Napsindo Primatel International" }, { "name": "PT Telkom Akses" },
                    { "name": "PT Telekomunikasi Selular (Telkomsel)", "sub_subsidiaries": [
                        "Telkomsel Finance B.V (TFBV)", "Telekomunikasi Seluler Finance Ltd. (TSFL)"
                    ] },
                    { "name": "PT Telkom Satelit Indonesia (Telkomsat)" },
                    { "name": "PT Telekomunikasi Infrastruktur Indonesia (TIF)" },
                    { "name": "PT Telkom Data Ekosistem" }
                ]
            },
            { "name": "PT Produksi Film Negara (Persero)" },
            { "name": "Perum Lembaga Kantor Berita Nasional Antara (ANTARA)", "subsidiaries": [
                { "name": "PT Antara Kencana Utama Estate Limited" }, { "name": "PT Antara Elektronik Transaksi Pratama" }
            ] },
            { "name": "PT Industri Telekomunikasi Indonesia (Persero) (PT INTI)", "subsidiaries": [
                { "name": "PT Inti Pindad Mitra Sejati" }, { "name": "PT Inti Konten Indonesia" }
            ] }
        ]
    }
]};
// ================= END DATA =========================

function searchInSubsidiaries(subs, q) {
  if (!subs) return false;
  for (const sub of subs) {
    if (typeof sub === 'string') {
      if (sub.toLowerCase().includes(q)) return true;
    } else if (sub.name && sub.name.toLowerCase().includes(q)) {
      return true;
    } else if (sub.sub_subsidiaries && searchInSubsidiaries(sub.sub_subsidiaries, q)) {
      return true;
    }
  }
  return false;
}

const clusterNav = document.querySelector('#cluster-nav ul');
const mainContent = document.getElementById('main-content');
const searchInput = document.getElementById('search');
let activeClusterLink = null;
let chartInstance = null;

// Welcome
const createWelcomeMessage = () => `
  <div class="card-glass p-10 pt-16 rounded-3xl shadow-xl border border-blue-100 group-item-enter max-w-2xl mx-auto mt-12">
    <div class="flex justify-center mb-6">
      <div class="bg-blue-200 text-blue-700 p-5 rounded-full shadow-lg animate-bounce-slow">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <ellipse cx="12" cy="12" rx="12" ry="12" fill="#3b82f6"/>
          <path d="M12 5v10.5M12 21h.01" stroke="#fff" stroke-width="2.1" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
    </div>
    <h2 class="text-3xl font-extrabold mb-3 text-blue-900 dark:text-blue-100 drop-shadow">Selamat Datang di Eksplorator BUMN</h2>
    <p class="text-lg text-slate-700 dark:text-slate-200 max-w-xl mx-auto mb-1">Menampilkan list struktur holding dan anak perusahaan BUMN Indonesia.</p>
    <div class="mt-7 text-center">
      <span class="inline-block px-5 py-3 rounded-xl bg-gradient-to-tr from-blue-200 to-blue-400/60 text-blue-900 dark:text-blue-50 text-lg font-semibold tracking-wider shadow-md animate-pulse">
        Pilih klaster usaha dari menu di samping untuk mulai eksplorasi!
      </span>
    </div>
  </div>
`;

const createSubsidiaryHTML = (subsidiaries) => {
  if (!subsidiaries || subsidiaries.length === 0) return '';
  let html = '<ul class="pl-6 mt-3 space-y-2 border-l-2 border-blue-200 dark:border-blue-900">';
  subsidiaries.forEach(sub => {
    let subName = typeof sub === 'string' ? sub : sub.name;
    let hasSubSubs = typeof sub === 'object' && sub.sub_subsidiaries && sub.sub_subsidiaries.length > 0;
    html += `
      <li class="text-slate-700 dark:text-slate-100 relative">
        <span class="absolute -left-[30px] top-2 h-0.5 w-6 bg-blue-200 dark:bg-blue-800"></span>
        <div class="flex items-start gap-2">
          <span class="text-blue-600 mt-1">&#8227;</span>
          <div class="flex-1">
            <span>${subName}</span>
            ${hasSubSubs ? createSubsidiaryHTML(sub.sub_subsidiaries) : ''}
          </div>
        </div>
      </li>`;
  });
  html += '</ul>';
  return html;
};

const displayCluster = (clusterName) => {
  const clusterData = bumnData.clusters.find(c => c.name === clusterName);
  if (!clusterData) {
    mainContent.innerHTML = createWelcomeMessage();
    return;
  }
  let contentHTML = `
    <div class="group-item-enter">
      <button class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-lg mb-6 flex items-center gap-2 font-semibold shadow hover:shadow-md border border-blue-200 text-sm transition"
        onclick="window.showHome()">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 -ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7m-9 2v8m4-8v8m5 0h2a2 2 0 002-2V7a2 2 0 00-.586-1.414l-7-7a2 2 0 00-2.828 0l-7 7A2 2 0 003 7v11a2 2 0 002 2h2" /></svg>
        Beranda
      </button>
      <h2 class="text-4xl font-extrabold text-blue-800 dark:text-blue-200 mb-3">${clusterData.name}</h2>
      <p class="text-xl text-slate-600 dark:text-slate-200 mb-8">Pemetaan perusahaan holding di klaster ini.<br><span class="text-base text-blue-400 dark:text-blue-300">Klik setiap kartu untuk eksplorasi anak perusahaannya.</span></p>
    </div>
  `;
  if (clusterData.holdings && clusterData.holdings.length > 0) {
    contentHTML += `
      <div class="mb-12 group-item-enter" style="animation-delay: 0.1s;">
        <div class="card-glass p-8 rounded-2xl shadow-xl border border-blue-200 dark:border-blue-900">
          <h3 class="text-2xl font-bold text-blue-700 dark:text-blue-200 mb-6">Distribusi Anak Perusahaan</h3>
          <div class="chart-container">
            <canvas id="clusterChart"></canvas>
          </div>
        </div>
      </div>
    `;
  }
  contentHTML += '<div class="space-y-8">';
  clusterData.holdings.forEach((holding, index) => {
    const hasSubsidiaries = holding.subsidiaries && holding.subsidiaries.length > 0;
    contentHTML += `
      <div class="card-glass rounded-2xl shadow-lg border border-blue-100 dark:border-blue-900 overflow-hidden content-card group-item-enter hover:scale-[1.025] hover:shadow-2xl transition-all duration-150" style="animation-delay: ${0.2 + index * 0.1}s;">
        <button class="w-full text-left p-7 hover:bg-blue-50/40 dark:hover:bg-blue-900/30 focus:outline-none flex justify-between items-center transition-colors duration-200" data-target="subs-for-${index}">
          <div>
            <h3 class="text-2xl font-semibold text-blue-700 dark:text-blue-200 drop-shadow">${holding.name}</h3>
            <p class="text-slate-600 dark:text-slate-300 mt-2">${hasSubsidiaries ? holding.subsidiaries.length + ' anak perusahaan terdaftar' : 'Tidak ada data anak perusahaan'}</p>
          </div>
          <svg class="w-7 h-7 text-blue-300 dark:text-blue-600 group-hover:text-blue-500 transition-transform transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
        </button>
        <div id="subs-for-${index}" class="subsidiary-list px-7 pb-7 border-t border-blue-50 bg-blue-50/20 dark:bg-blue-900/20 rounded-b-2xl">
          <div class="pt-5">
            ${hasSubsidiaries ? createSubsidiaryHTML(holding.subsidiaries) : '<p class="text-slate-500 dark:text-slate-400">Informasi tidak tersedia.</p>'}
          </div>
        </div>
      </div>`;
  });
  contentHTML += '</div>';
  mainContent.innerHTML = contentHTML;
  // Chart
  if (chartInstance) chartInstance.destroy();
  const chartCtx = document.getElementById('clusterChart')?.getContext('2d');
  if (chartCtx) {
    const labels = clusterData.holdings.map(h => h.name.replace(/ \(Persero\)| Tbk| \(Persero\) Tbk/g, ''));
    const data = clusterData.holdings.map(h => h.subsidiaries ? h.subsidiaries.length : 0);
    chartInstance = new Chart(chartCtx, {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [{
          label: 'Jumlah Anak Perusahaan',
          data: data,
          backgroundColor: 'rgba(59,130,246,0.85)',
          borderColor: 'rgba(59,130,246,1)',
          borderWidth: 1,
          borderRadius: 8,
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          y: { beginAtZero: true, grid: { color: '#e0e7ef' } },
          x: { grid: { display: false }, ticks: { maxRotation: 45, minRotation: 45 } }
        },
        plugins: { legend: { display: false } }
      }
    });
  }
  clusterData.holdings.forEach((_, idx) => {
    const el = document.getElementById(`subs-for-${idx}`);
    if (el) el.style.display = 'none';
  });
};

// Accordion
mainContent.addEventListener('click', (e) => {
  const button = e.target.closest('button[data-target]');
  if (button) {
    const targetId = button.getAttribute('data-target');
    const targetElement = document.getElementById(targetId);
    const icon = button.querySelector('svg');
    if (targetElement) {
      const isVisible = targetElement.style.display === 'block';
      targetElement.style.display = isVisible ? 'none' : 'block';
      icon.classList.toggle('rotate-180', !isVisible);
    }
  }
});

// Sidebar rendering and search
function renderSidebarList(clusters) {
  clusterNav.innerHTML = '';
  clusters.forEach(cluster => {
    const li = document.createElement('li');
    const a = document.createElement('a');
    a.href = '#';
    a.textContent = cluster.name;
    a.className = 'sidebar-item flex items-center px-4 py-3 rounded-xl font-medium';
    a.dataset.cluster = cluster.name;
    a.addEventListener('click', (e) => {
      e.preventDefault();
      if (activeClusterLink) activeClusterLink.classList.remove('sidebar-item-active');
      a.classList.add('sidebar-item-active');
      activeClusterLink = a;
      if (window.innerWidth < 768) toggleSidebar(false);
      displayCluster(cluster.name);
    });
    li.appendChild(a);
    clusterNav.appendChild(li);
  });
}
document.addEventListener('DOMContentLoaded', () => {
  renderSidebarList(bumnData.clusters);
  showHome();
});
window.showHome = function() {
  mainContent.innerHTML = createWelcomeMessage();
  if (activeClusterLink) activeClusterLink.classList.remove('sidebar-item-active');
  activeClusterLink = null;
  searchInput.value = "";
  renderSidebarList(bumnData.clusters);
};
// SEARCH filter (cluster, holding, anak, subsub)
searchInput.addEventListener('input', function() {
  const val = searchInput.value.trim().toLowerCase();
  let filtered = [];
  if (val.length === 0) {
    filtered = bumnData.clusters;
  } else {
    bumnData.clusters.forEach(cluster => {
      if (cluster.name.toLowerCase().includes(val)) {
        filtered.push(cluster);
      } else {
        // Cari holding atau anak perusahaan
        const matchingHoldings = cluster.holdings.filter(h =>
          h.name.toLowerCase().includes(val) ||
          searchInSubsidiaries(h.subsidiaries, val)
        );
        if (matchingHoldings.length) {
          filtered.push({
            name: cluster.name,
            holdings: matchingHoldings
          });
        }
      }
    });
  }
  renderSidebarList(filtered);
  if (activeClusterLink) activeClusterLink.classList.remove('sidebar-item-active');
  activeClusterLink = null;
  mainContent.innerHTML = createWelcomeMessage();
});

// SIDEBAR MOBILE
const sidebar = document.getElementById('sidebar');
const openSidebarBtn = document.getElementById('openSidebar');
const fadebg = document.getElementById('fadebg');
function toggleSidebar(show) {
  if (show) {
    sidebar.classList.add('show');
    fadebg.classList.add('show');
    document.body.style.overflow = 'hidden';
  } else {
    sidebar.classList.remove('show');
    fadebg.classList.remove('show');
    document.body.style.overflow = '';
  }
}
if(openSidebarBtn) openSidebarBtn.onclick = () => toggleSidebar(true);
if(fadebg) fadebg.onclick = () => toggleSidebar(false);
window.addEventListener('resize', ()=>{
  if(window.innerWidth>=768) toggleSidebar(false);
});

// DARK/LIGHT MODE
const htmlRoot = document.documentElement;
const modeBtn = document.getElementById('toggleModeBtn');
function setDarkMode(dark) {
  if (dark) {
    htmlRoot.classList.add('dark');
    localStorage.setItem('bumn_theme','dark');
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#1e293b');
    document.getElementById('iconMode').innerHTML = `<path d="M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z" fill="#334155"/>`;
  } else {
    htmlRoot.classList.remove('dark');
    localStorage.setItem('bumn_theme','light');
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#2563eb');
    document.getElementById('iconMode').innerHTML = `<circle cx="12" cy="12" r="6" fill="#fde68a"/><path d="M12 2v2m0 16v2m10-10h-2M4 12H2m15.07-7.07l-1.42 1.42M7.05 7.05L5.64 5.64m12.02 12.02l-1.42-1.42M7.05 16.95l-1.41 1.41" stroke="#fbbf24" stroke-width="2"/>`;
  }
}
function toggleMode() {
  setDarkMode(!htmlRoot.classList.contains('dark'));
}
if(modeBtn) modeBtn.onclick = toggleMode;
(function(){
  let userPref = localStorage.getItem('bumn_theme');
  if(!userPref) {
    userPref = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark':'light';
  }
  setDarkMode(userPref==='dark');
})();

</script>
</body>
</html>
